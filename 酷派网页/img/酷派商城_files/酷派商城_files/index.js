!function(t){function e(i){if(a[i])return a[i].exports;var n=a[i]={exports:{},id:i,loaded:!1};return t[i].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var a={};return e.m=t,e.c=a,e.p="/",e(0)}({0:function(t,e,a){t.exports=a(214)},1:function(t,e){t.exports=function(t){var e="",a={logout:e+"/user/logout",cartProduct:e+"/cart/add-product",cartList:e+"/cart/get-cart-json/",cartQty:e+"/cart/product-update-qty",cartCheckbox:e+"/cart/check-item",addCartService:e+"/cart/add-service",delCartService:e+"/cart/del-service",addCartSuit:e+"/cart/add-suit",delCartSuit:e+"/cart/del-suit",addrlist:e+"/user/address/filter",orderCheckout:e+"/cart/checkout",userAddrList:e+"/user/addresses/",checkoutCoupons:e+"/cart/get-available-coupon",checkoutCouponSettle:e+"/cart/apply-coupon",payMent:e+"/payment/data",longPolling:e+"/payment/result",getAddressInfo:e+"/user/address/filter/",getHbFq:e+"/product/hb-fq/",queryCouponCode:e+"/cart/apply-coupon-code/"};return a[t]}},2:function(t,e){t.exports=can.Model.extend({},{getCartList:function(t){return can.when(can.ajax({url:t}))},postCart:function(t,e){return can.when(can.ajax({type:"POST",url:t,data:e,data:JSON.stringify(e),contentType:"application/json; charset=utf-8",dataType:"json"}))},cancelOrder:function(t){return can.when(can.ajax({type:"POST",url:t}))}})},3:function(t,e,a){var i;(function(){var n,o,s,l,r,c,d,m,p,u;o=window.device,n={},window.device=n,l=window.document.documentElement,u=window.navigator.userAgent.toLowerCase(),n.ios=function(){return n.iphone()||n.ipod()||n.ipad()},n.iphone=function(){return!n.windows()&&r("iphone")},n.ipod=function(){return r("ipod")},n.ipad=function(){return r("ipad")},n.android=function(){return!n.windows()&&r("android")},n.androidPhone=function(){return n.android()&&r("mobile")},n.androidTablet=function(){return n.android()&&!r("mobile")},n.blackberry=function(){return r("blackberry")||r("bb10")||r("rim")},n.blackberryPhone=function(){return n.blackberry()&&!r("tablet")},n.blackberryTablet=function(){return n.blackberry()&&r("tablet")},n.windows=function(){return r("windows")},n.windowsPhone=function(){return n.windows()&&r("phone")},n.windowsTablet=function(){return n.windows()&&r("touch")&&!n.windowsPhone()},n.fxos=function(){return(r("(mobile;")||r("(tablet;"))&&r("; rv:")},n.fxosPhone=function(){return n.fxos()&&r("mobile")},n.fxosTablet=function(){return n.fxos()&&r("tablet")},n.meego=function(){return r("meego")},n.cordova=function(){return window.cordova&&"file:"===location.protocol},n.nodeWebkit=function(){return"object"==typeof window.process},n.mobile=function(){return n.androidPhone()||n.iphone()||n.ipod()||n.windowsPhone()||n.blackberryPhone()||n.fxosPhone()||n.meego()},n.tablet=function(){return n.ipad()||n.androidTablet()||n.blackberryTablet()||n.windowsTablet()||n.fxosTablet()},n.desktop=function(){return!n.tablet()&&!n.mobile()},n.television=function(){var t;for(television=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","roku","pov_tv","hbbtv","ce-html"],t=0;t<television.length;){if(r(television[t]))return!0;t++}return!1},n.portrait=function(){return window.innerHeight/window.innerWidth>1},n.landscape=function(){return window.innerHeight/window.innerWidth<1},n.noConflict=function(){return window.device=o,this},r=function(t){return u.indexOf(t)!==-1},d=function(t){var e;return e=new RegExp(t,"i"),l.className.match(e)},s=function(t){var e=null;d(t)||(e=l.className.replace(/^\s+|\s+$/g,""),l.className=e+" "+t)},p=function(t){d(t)&&(l.className=l.className.replace(" "+t,""))},n.ios()?n.ipad()?s("ios ipad tablet"):n.iphone()?s("ios iphone mobile"):n.ipod()&&s("ios ipod mobile"):n.android()?s(n.androidTablet()?"android tablet":"android mobile"):n.blackberry()?s(n.blackberryTablet()?"blackberry tablet":"blackberry mobile"):n.windows()?s(n.windowsTablet()?"windows tablet":n.windowsPhone()?"windows mobile":"desktop"):n.fxos()?s(n.fxosTablet()?"fxos tablet":"fxos mobile"):n.meego()?s("meego mobile"):n.nodeWebkit()?s("node-webkit"):n.television()?s("television"):n.desktop()&&s("desktop"),n.cordova()&&s("cordova"),c=function(){n.landscape()?(p("portrait"),s("landscape")):(p("landscape"),s("portrait"))},m=Object.prototype.hasOwnProperty.call(window,"onorientationchange")?"orientationchange":"resize",window.addEventListener?window.addEventListener(m,c,!1):window.attachEvent?window.attachEvent(m,c):window[m]=c,c(),i=function(){return n}.call(e,a,e,t),!(void 0!==i&&(t.exports=i))}).call(this)},4:function(t,e){"use strict";t.exports=function(){}},5:function(t,e){t.exports=function(t){function e(t){return document.cookie.length>0&&(c_start=document.cookie.indexOf(t+"="),c_start!=-1)?(c_start=c_start+t.length+1,c_end=document.cookie.indexOf(";",c_start),c_end==-1&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))):""}return window.cpmall.distinctId=e("distinct_id"),window.cpmall.data}},6:function(t,e){t.exports={getUrlParam:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),a=window.location.search.substr(1).match(e);return null!=a?unescape(decodeURI(a[2])):null},getUrlParamAll:function(t){var e=t||window.location.href,a={};if(/\?/.test(e))for(var i=e.match(/[&|\?][a-zA-Z_0-9]+=[^#&$\/]+/g),n=0,o=i.length;n<o;n++){var s=i[n],l=s.split("=");a[l[0].substr(1)]=l[1]}return a},redirectUrl:function(t,e){var a=window.location.host,i=window.location.search,e=e||window.location.pathname,n=window.location.protocol,t=t||"/accounts/login/",o=n+"//"+a+t+"?next="+e+i;return o}}},7:function(t,e,a){var i,n,o;!function(s){n=[a(15)],i=s,o="function"==typeof i?i.apply(e,n):i,!(void 0!==o&&(t.exports=o))}(function(t){t.fn.addBack=t.fn.addBack||t.fn.andSelf,t.fn.extend({actual:function(e,a){if(!this[e])throw'$.actual => The jQuery method "'+e+'" you called does not exist';var i,n,o={absolute:!1,clone:!1,includeMargin:!1,display:"block"},s=t.extend(o,a),l=this.eq(0);if(s.clone===!0)i=function(){var t="position: absolute !important; top: -1000 !important; ";l=l.clone().attr("style",t).appendTo("body")},n=function(){l.remove()};else{var r,c=[],d="";i=function(){r=l.parents().addBack().filter(":hidden"),d+="visibility: hidden !important; display: "+s.display+" !important; ",s.absolute===!0&&(d+="position: absolute !important; "),r.each(function(){var e=t(this),a=e.attr("style");c.push(a),e.attr("style",a?a+";"+d:d)})},n=function(){r.each(function(e){var a=t(this),i=c[e];void 0===i?a.removeAttr("style"):a.attr("style",i)})}}i();var m=/(outer)/.test(e)?l[e](s.includeMargin):l[e]();return n(),m}})})},8:function(t,e){"use strict";t.exports='\n<!--<section class="cartbox_little">\n\t<div class="cartbox_little_main">\n\t\t<a class="cartbox_little_content_item cartbox_little_desc" href={{url}}>\n\t\t\t<img class="cartbox_little_img" src="{{image}}">\n\t\t</a>\n\t\t<aside class="cartbox_little_content_main">\n\t\t\t<div class="cartbox_little_title cartbox_little_tablewrap">\n\t\t\t\t<a class="cartbox_little_name" href={{url}}>{{ name }}</a>\n\t\t\t\t{{#each promotion}}\n\t\t\t\t<span class="cartbox_little_label">{{ this }}</span>\n\t\t\t\t{{/each}}\n\t\t\t</div>\n\t\t\t<div class="cartbox_little_content_item cartbox_little_price">\n\t\t\t\t<span class="cartbox_little_newprice">{{ newestPrice }}</span>\n\t\t\t\t<span class="cartbox_little_num">{{ qty }}</span>\n\t\t\t</div>\n\t\t</aside>\n\t\t<p class="cartbox_little_content_item cartbox_little_close">\n\t\t\t<span class="j-hfcart-event iconGray cartbox_little_content_item cartbox_little_btn" data-id="{{id}}" data-idx={{@index}}>I</span>\n\t\t</p>\n\t</div>\n</section>-->\n<li class="header_cart_hover_list_item">\n    <div class="header_cart_hover_list_item_image">\n        <img src="{{image}}" alt="">\n    </div>\n    <ul class="header_cart_hover_list_item_array">\n        <li class="header_cart_hover_list_item_array_name">\n            <a href="{{url}}">{{ name }}</a>\n        </li>\n        <li class="header_cart_hover_list_item_array_price">{{ newestPrice }}</li>\n        <li class="header_cart_hover_list_item_array_number">{{ qty }}</li>\n    </ul>\n    <span class="j-hfcart-event header_cart_hover_list_item_delete" data-id="{{id}}" data-idx={{@index}}>&#xE5C9;</span>\n</li>\n'},9:function(t,e){"use strict";t.exports='\n{{#if obj.isEmpty}}\n<span class="iconGray cartbox_little_emptyimg">d</span>\n<p class="cartbox_little_emptydesc">购物车内未添加商品</p>\n{{else}}\n\t{{#each obj.cartlittles}}\n\t\t<cartbox-little></cartbox-little>\n\t{{/each}}\n{{/if}}\n'},10:function(t,e,a){var i=window.can,n=a(8);t.exports=i.Component.extend({tag:"cartbox-little",template:i.stache(n),viewModel:{},events:{".j-hfcart-event click":function(){}}})},11:function(t,e){t.exports=can.Model.extend({},{logout:function(t){return can.when(can.ajax({url:t}))}})},12:function(t,e,a){a(7);var i=a(13),n=a(6),o=a(2),s=o.extend({},{}),l=new s,r=a(1)("cartList"),c=a(3);t.exports=function(t){function e(t){$(".J-header-title-text").addClass("mobile-header-title-font").html(t),$(".J-mobile-menu").hide(),$(".J-mobile-goback").show()}coolsa.trackCustomService=function(t){sa.track("cpV3_custom_service_btn",{cp_add_time:new Date,is_daovoice:!!t}),stm_clicki("send","event","所有页面","在线客服","在线客服",14)},coolsa.trackSearch=function(t){sa.track("cpV3_cpmall_search",t);var e=coolsa.getSiteMonitorAttrs(3,t);stm_clicki("send","event",e),stm_clicki("send","event","搜索页面搜索框","搜索","搜索",17)};var a=(new Date).getTime();if(a>14851872e5&&a<14860512e5&&($(".J-holiday").show(),$(".header").addClass("has_tip"),$("body").addClass("has_tip")),window.isMobile){switch(t){case"cart":e("购物车");break;case"checkout":e("订单确认");break;case"all_products":e("商品列表");break;case"productDetail":e("商品详情");break;case"payMent":e("订单支付");break;case"helpcenter":e("帮助中心");break;case"userorder":e("订单列表");break;case"orderdetail":e("订单详情");break;case"userinfo":e("个人中心")}$(".J-mobile-goback").on("click",function(){window.history.go(-1)})}else{$("#cpmallInput").keydown(function(t){13==t.keyCode&&(window.location.href="/product/search-variant?name="+encodeURIComponent($(this).val()))}),$(".cpmall_input_close:first").click(function(t){$("#cpmallInput").animate({width:"0%"}),$("#cpmallInputContainer").animate({width:"0%",height:"0%"},600,"linear",function(){$("#cpmallInputContainer").addClass("hidden"),$(".cpmall_top_toolbar").removeAttr("style").removeClass("hidden"),$(".cpmall_top_menu").removeAttr("style").removeClass("hidden")})}),$(".cool_footer_btn").click(function(t){coolsa.trackCustomService()});var o,s,d;$(".J-header-cool-mobile").on("mouseenter",function(){$(".cool_mobile_hover_box").stop().animate({opacity:1,height:"180px"},200,function(){$(".J-cool-mobile-li-1").stop().animate({left:"29%",opacity:1,filter:"alpha(opacity=100)"},300,"swing"),o=setTimeout(function(){$(".J-cool-mobile-li-2").stop().animate({left:"39%",opacity:1,filter:"alpha(opacity=100)"},300,"swing")},100),s=setTimeout(function(){$(".J-cool-mobile-li-3").stop().animate({left:"49%",opacity:1,filter:"alpha(opacity=100)"},300,"swing")},200),d=setTimeout(function(){$(".J-cool-mobile-li-4").stop().animate({left:"59%",opacity:1,filter:"alpha(opacity=100)"},300,"swing")},200)})}),$(".J-header-cool-mobile").on("mouseleave",function(){clearTimeout(o),clearTimeout(s),clearTimeout(d),$(".alert-cool-mobile-li").css({left:"1146px",opacity:0,filter:"alpha(opacity=0)"}),$(".J-cool-mobile-li-1").css({left:"1146px",opacity:0,filter:"alpha(opacity=0)"}),$(".J-cool-mobile-li-2").css({left:"1146px",opacity:0,filter:"alpha(opacity=0)"}),$(".J-cool-mobile-li-3").css({left:"1146px",opacity:0,filter:"alpha(opacity=0)"}),$(".J-cool-mobile-li-4").css({left:"1146px",opacity:0,filter:"alpha(opacity=0)"}),$(".cool_mobile_hover_box").stop().animate({opacity:0,height:0},200)})}$(".myaccount_name:first").length||!1;window.cpmall.refreshCart=function(){l.getCartList(r).then(function(t){if(0===t.code){$("#cpmallCartLittle").empty(),new i("#cpmallCartLittle",{data:t.data});var e=t.data.items.length;e?($(".J-menu-cart-num").text(e).addClass("hasShoping"),$(".J-menu-cart-num").show(),e<=0?$(".J-header-cart-content").addClass("header_cart_hover_empty"):($(".J-header-cart-content").removeClass("header_cart_hover_empty"),$(".J-header-cart-allprice").html(t.data.total))):($(".J-menu-cart-num").hide(),$(".J-menu-cart-num").removeClass("hasShoping"),$(".J-header-cart-content").addClass("header_cart_hover_empty"))}},function(){$("#cpmallCartLittle").empty();$(".J-header-cart-content").addClass("header_cart_hover_empty")})},window.cpmall.refreshCart(),$("textarea",".daodream-composer-textarea-container").click(function(t){coolsa.trackCustomService(!0)}),$(".J-login-url").attr("href",n.redirectUrl()),$(".J-register-url").attr("href",n.redirectUrl("/user/register/")),window.isMobile&&$(".J-mobile-login-url").attr("href",n.redirectUrl()),$(".J-cool-mobile-click").off().on("click",function(){var t=$(this).attr("data-url");window.open(t,"_blank")});var m=document.getElementById("searchbar_close"),p=document.getElementById("header_search"),u=document.getElementById("searchbar"),h=document.getElementById("searchbar_input"),_=document.getElementById("searchbar_recommended");$(".header_mobile_menu").click(function(){$(".header_mobile_dropdown").toggleClass("header_mobile_dropdown_show").removeClass("header_mobile_dropdown_input_up"),$(".header_mobile_content").toggleClass("header_mobile_content_black"),$(".header_mobile_menu").toggleClass("header_mobile_menu_toggle"),$(".header_mobile_search input").val(""),$(".header_mask").toggle(0,function(){$(".header_mask").toggleClass("header_mask_animation")})}),$(".header_mobile_search input").focus(function(){c.ios()?$(".header_mobile_search input").focus(function(){$(".header_mobile_dropdown").addClass("header_mobile_dropdown_show")}):$(".header_mobile_dropdown").addClass("header_mobile_dropdown_input_up")}),$(".header_mask").click(function(){$(".header_mobile_dropdown").removeClass("header_mobile_dropdown_show").removeClass("header_mobile_dropdown_input_up"),$(".header_mobile_content").removeClass("header_mobile_content_black"),$(".header_mobile_menu").removeClass("header_mobile_menu_toggle"),$(".header_mobile_search input").val(""),$(".header_mask").hide(0,function(){$(".header_mask").removeClass("header_mask_animation")})}),p.onclick=function(){u.className="searchbar_show",h.focus(),_.className="searchbar_recommended_show"},"animation"in document.documentElement.style||"WebkitAnimation"in document.documentElement.style?(m.onclick=function(){u.className="searchbar_hide",h.value="",_.className="searchbar_recommended_hide";setTimeout("searchbar.className = 'searchbar_default'",400)},$(".J-search-a-click a").on("click",function(){u.className="searchbar_hide",h.value="",_.className="searchbar_recommended_hide";setTimeout("searchbar.className = 'searchbar_default'",400)})):(m.onclick=function(){u.className="searchbar_hide",h.value="",_.className="searchbar_recommended_hide",u.className="searchbar_default"},$(".J-search-a-click a").on("click",function(){u.className="searchbar_hide",h.value="",_.className="searchbar_recommended_hide";setTimeout("searchbar.className = 'searchbar_default'",400)})),$(".J-search-product").on("keydown",function(t){13==t.keyCode&&(window.location.href="/product/search-variant?name="+encodeURIComponent($(this).val()))}),$(".J-mobile-search").on("click",function(){var t=$(".J-mobile-search-value").val();t&&(window.location.href="/product/search-variant?name="+encodeURIComponent(t))});var g=$(".J_myaccount_name:first"),b=g?g.attr("data-name"):"";coolsa.login(b),coolsa.trackPageView(),coolsa.trackError(),coolsa.cpDaoVoice(b)}},13:function(t,e,a){var i=window.can;a(10);var n=a(9),o=i.stache(n),s=a(14).mapTranslator,l=a(11),r=a(2),c=r.extend({},{}),d=new c,m=l.extend({},{}),p=new m,u=a(1),h={cartQty:u("cartQty"),logout:u("logout")};t.exports=i.Control.extend({defaults:{}},{init:function(t,e){var a=s(e.data),i={obj:{}};a.cartEmpty.isCartEmpty?i.obj.isEmpty=!0:(i.obj.cartlittles=a.cartlists,i.obj.totalPrice=a.cartsettle.sumPrice,i.obj.totalQty=a.cartsettle.totalItemSize),t.html(o(i)),$("html").on("click",".J-popboxsimple-cancel-btn",function(t){document.documentElement.style.overflow="",document.body.style.overflow="",$("#hfpopbox").addClass("hiddenImportant")}),$("html").on("click",".J-popboxsimple-ok-btn",function(t){document.documentElement.style.overflow="",document.body.style.overflow="";var e=$("#hfpopbox"),a={item_id:e.attr("data-id"),qty:0};d.postCart(h.cartQty,a).then(function(t){if(0===t.code){var e=$("#hfpopbox");+e.attr("data-idx");e.addClass("hiddenImportant"),window.cpmall.refreshCart()}})}),window.isMobile||($("#cpmallInput").focus(function(t){var e=$(".cpmall_header_hotsearch");e.hasClass("hidden")&&e.removeClass("hidden")}).blur(function(t){var e=$(".cpmall_header_hotsearch");e.hasClass("hidden")||e.addClass("hidden")}),$("html").on("mouseover",".devoice_btn",function(){$(this).find("i").css({display:"none"}),$(this).find("span").css({display:"block"})}),$("html").on("mouseout",".devoice_btn",function(){$(this).find("i").css({display:"block"}),$(this).find("span").css({display:"none"})}),$("html").on("mouseover",".top_btn",function(){$(this).find("i").css({display:"none"}),$(this).find("span").css({display:"block"})}),$("html").on("mouseout",".top_btn",function(){$(this).find("i").css({display:"block"}),$(this).find("span").css({display:"none"})}),$("html").on("click",".top_btn",function(){$("body,html").animate({scrollTop:0},500)})),$("html").on("click",".devoice_btn",function(){daovoice("openMessages")}),$(".j-logout").click(function(t){p.logout(h.logout).then(function(t){window.coolsa.logout(),window.location.reload(!0)})}),window.isMobile&&$(".j-login").attr("href","/user/user-center/")},".j-hfcart-event click":function(t,e){e.target;document.documentElement.style.overflow="hidden",document.body.style.overflow="hidden";var a=$("#hfpopbox"),i=$(".J-popboxsimpleContent:first",a),n=i.actual("height")/2,o=i.actual("width")/2;window.isMobile||i.css({"margin-top":"-"+n+"px","margin-left":"-"+o+"px",left:"50%"}),a.attr("data-idx",$(t).attr("data-idx")).attr("data-id",$(t).attr("data-id")).removeClass("hiddenImportant")}})},14:function(t,e){t.exports={mapTranslator:function(t){var e=0,a=0,i=0,n=0,o={},s=null;for(e=0,i=t.deduction.length;e<i;++e)for(s=t.deduction[e],a=0,n=s.sku_ids.length;a<n;++a)o[s.sku_ids[a]]=s.promotion_name;var l={cartEmpty:{},isMobile:window.isMobile,cartsettle:{isMobile:window.isMobile,isCheck:!1,sumPrice:"￥"+t.total,discount:"活动已优惠￥"+t.discount,selectedSize:t.items.length,totalItemSize:t.items.length,hrefTo:"/cart/checkout"},cartlists:[],cartSensor:{cp_add_time:new Date,order_id:"暂无",cp_good_id:"",good_class:"",good_name:"",good_color:"",good_type:"",good_version:"",good_suit_type:"",has_service:!1,service_type:"",good_single_price:"",even_price:t.total/t.items.length,cart_size:t.items.length,cart_total_size:t.items.length,cart_total_price:""+t.total},infos:[{popdata:{title:"提示",hasImage:!1,content:["网络请求忙，请重新再试"]}}],popdata:{title:"提示",hasImage:!1,content:["您确认删除该商品吗？"],btns:[{tip:"取消",jsHook:"jCancel"},{isColor:!0,tip:"确认",jsHook:"jConfirm"}]}},r=0,c=!0,d=null,m=0;if(l.cartEmpty.isCartEmpty=0===t.items.length,l.cartEmpty.isCartEmpty)l.cartEmpty.btns=[],$("#myAccount > a").hasClass("j-login")||(l.cartEmpty.btns=[{isColor:!0,name:"登录",url:$("#myAccount > a").eq(0).attr("href")}]),l.cartEmpty.btns=[{isColor:!1,name:"去选购",url:"/"}];else for(e=0,i=t.items.length;e<i;++e){d=t.items[e];var p=[],u=[],h=[],_=[],g=[],b=d.promotion?d.promotion:[];for(a=0,n=b.length;a<n;++a)p.push(b[a].promotion_name);for(b=d.gifts?d.gifts:[],a=0,n=b.length;a<n;++a){u.push({className:"gifts",image:"null"!==b[a].image?b[a].image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQYGWP4////fwAJ+wP93BEhJAAAAABJRU5ErkJggg==",name:b[a].name,newestPrice:" ",currentPrice:"",qty:b[a].qty,promotion:["赠品"]})}for(b=d.suits?d.suits:[],a=0,n=b.length;a<n;++a)_.push({image:b[a].image,name:b[a].name,qty:b[a].qty,newestPrice:"￥"+b[a].price,currentPrice:"",promotion:[]});for(b=d.services?d.services:[],a=0,n=b.length;a<n;++a)h.push({isService:!0,id:b[a].id,image:b[a].image,name:b[a].name,qty:b[a].qty,newestPrice:"￥"+b[a].price,currentPrice:"",desc:b[a].description,popdata:{title:b[a].name,hasImage:!0,image:b[a].image,price:"￥"+b[a].price,content:[b[a].description],btns:[]},promotion:[]});for(b=d.available_services?d.available_services:[],a=0,n=b.length;a<n;++a)g.push({id:b[a].id,name:b[a].name,qty:b[a].qty,price:"￥"+b[a].price,desc:b[a].description,popdata:{title:b[a].name,hasImage:!0,image:b[a].image,price:"￥"+b[a].price,content:[b[a].description],btns:[{isColor:!0,tip:"购买",jsHook:"jConfirmBuy"}]}});b=d.suits?d.suits:[],m=d.price?d.price:d.original_price,l.cartSensor.max_price<m&&(l.cartSensor.max_product=d.id,l.cartSensor.max_product_name=d.name,l.cartSensor.max_price=m,l.cartSensor.max_is_suit=b.length&&b.length>0),i>1&&l.cartSensor.min_price>m&&(l.cartSensor.min_product=d.id,l.cartSensor.min_product_name=d.name,l.cartSensor.min_price=m,l.cartSensor.min_is_suit=b.length&&b.length>0),l.cartlists.push({hasHeader:0===e,announce:o[""+d.id],checked:d.checked,id:d.id,skuId:d.sku_id,name:d.name,image:d.image,newestPrice:"￥"+(d.price?d.price:d.original_price),currentPrice:d.price!==d.original_price&&d.original_price,qty:d.qty,url:d.url,totalPrice:"￥"+d.subtotal,promotion:p,gifts:u,suits:_,services:h,availableServices:g}),d.checked?++r:c&&(c=!1)}return l.cartsettle.isCheck=c,l.cartsettle.selectedSize=r,l}}},15:function(t,e){t.exports=jQuery},79:function(t,e){"use strict";t.exports='\n{{#each obj.categories}}\n<div class="parts-goods-box goods-start goods-start{{ rank }} goods-start-mobile">\n    <div class="col-md-12 goods-box-title goods-box-title-mobile ">\n        <span class="newicon goods-icon">{{#if icon }}&#xE324;{{else}}&#xE80E;{{/if}}</span>\n        <span class="category-title category-title-mobile">{{ name }}</span>\n        <a class="category-more category-more-mobile" href={{link_url}} target="_blank">更多商品 <i class="iconPureBlue icon-category-more icon-tip_top">h</i></a>\n    </div>\n    <div class="phone-items phone-items-mobile">\n        <ul class="goods-ul-box goods-ul-box-mobile">\n            <common-goods-item></common-goods-item>\n        </ul>\n    </div>\n</div>\n<div class="clear-float"></div>\n{{/each}}\n'},80:function(t,e){"use strict";t.exports='\n<ul class="product_flex_container">\n{{#each items}}\n{{#if firstItemBigShow }}\n<li class="col-md-3 col-xs-6 big-item big-item-mobile hover-state" data-position={{@index}}>\n    <div class="li-inner big-li-inner">\n        <a href="{{ product_url }}" target="_blank">\n            <img data-original="{{ image }}" alt="" class="hot-p-img bit-hot-p-img-mobile lazy"/>\n        </a>\n    </div>\n</li>\n{{else}}\n    {{^if fix}}\n    <li class="col-md-3 col-xs-6 hover-state {{small_activity}} small-item small-item-mobile small-item{{@index}} small-item-mobile--fix small-item{{@index}}-mobile" data-content="{{content}}期免息" data-content1="{{content1}}">\n        <div class="li-inner">\n            <a href="{{ product_url }}" target="_blank">\n            {{#if label}}\n                <span class="hot-icon hot-icon-mobile">{{ label }}</span>\n            {{else}}\n                <span class="hot-icon-empty"></span>\n            {{/if}}\n                <img data-original="{{ image }}" alt="" class="hot-p-img hot-p-img-mobile lazy"/>\n                <span class="name name-mobile text">{{ name }}</span>\n                <span class="explain explain-mobile text">{{ subtitle }}</span>\n                <span class="price price-mobile text">{{ price }}</span>\n            </a>\n        </div>\n    </li>\n    {{else}}\n    <li class="col-md-3 col-xs-6 hover-state {{small_activity}} small-item small-item-mobile small-tiem--fix small-item{{@index}}-mobile" data-content="{{content}}期免息" data-content1="{{content1}}">\n        <div class="li-inner">\n            <a href="{{ product_url }}" target="_blank">\n            {{#if label}}\n                <span class="hot-icon hot-icon-mobile">{{ label }}</span>\n            {{else}}\n                <span class="hot-icon-empty"></span>\n            {{/if}}\n                <img data-original="{{ image }}" alt="" class="hot-p-img hot-p-img-mobile lazy"/>\n                <span class="name name-mobile text">{{ name }}</span>\n                <span class="explain explain-mobile text">{{ subtitle }}</span>\n                <span class="price price-mobile text">{{ price }}</span>\n            </a>\n        </div>\n    </li>\n    {{/if}}\n{{/if}}\n{{/each}}\n</ul>\n'},100:function(t,e){"use strict";t.exports='\n{{# if obj.isMobile}}\n<div class="cool-main">\n\t\t<div class="swiper-container sliders_container">\n\t\t  <div class="swiper-wrapper">\n\t\t  \t{{#each obj.big_banners}}\n\t\t      <div class="swiper-slide sliders" style="background: {{background_color}}">\n\t\t      \t<div class="slider_item" data-href="{{ url }}" data-id="{{ id }}" data-position="{{ pos }}" data-name="{{ name }}" data-priority="{{ priority }}" data-image="{{ image }}" target="_blank">\n\t\t      \t\t<img u="image" src="{{ image }}" class="slider_image" />\n\t\t\t\t</div>\n\t\t      </div>\n\t\t\t\t{{/each}}\n\t\t  </div>\n\t\t  <div class="pagination">\n\t\t  \t{{#each obj.big_banners}}\n\t\t  \t<span class="swiper-pagination-switch"></span>\n\t\t\t\t{{/each}}\n\t\t  </div>\n\t\t</div>\n</div>\n\n{{else}}\n<div class="cool-main">\n\t\t<div class="swiper-container sliders_container">\n\t\t  <div class="swiper-wrapper">\n\t\t  \t {{#each obj.big_banners}}\n\t\t      <div class="swiper-slide sliders" style="background: {{background_color}}">\n\t\t      \t<div class="slider_item" data-href="{{ url }}" data-id="{{ id }}" data-position="{{ pos }}" data-name="{{ name }}" data-priority="{{ priority }}" data-image="{{ image }}" data-target="_blank">\n\t\t      \t\t<img u="image" src="{{ image }}" class="slider_image" />\n\t\t\t\t</div>\n\t\t      </div>\n\t\t\t{{/each}}\t\t  \t\n\t\t\t<!-- <div class="swiper-slide sliders "style="background: #eee;margin: 0; ">\n\t\t      \t\t<div class="slider_item banner active4" data-href="http://www.coolpad.com/product/product_detail/107/" data-id="107" data-position="2" data-name="S1" data-priority="0">\n\t\t\t      \t\t<img u="image"  src="/static/images/swiperimages/s1_bg.jpg" alt="">\n\t\t\t\t\t\t<img u="image" class="s1_phone1 " src="/static/images/swiperimages/s1_phone1.png" alt="">\n\t\t\t\t\t\t<img u="image" class="s1_phone2 " src="/static/images/swiperimages/s1_phone2.png" alt="">\n\t\t\t\t\t\t<img u="image" class="s1_shadow " src="/static/images/swiperimages/s1_shadow.png" alt="">\n\t\t\t\t\t\t<img u="image" class="s1_text "   src="/static/images/swiperimages/s1_text.png" alt="">\n\t\t\t\t\t\t<img u="image" class="s1_button"  src="/static/images/swiperimages/s1_button.png" alt="">\n\t\t      \t\t</div>\n\t\t      </div> -->\n\t\t      <!-- <div class="swiper-slide sliders " style="background: #eee;margin: 0; ">\n\t\t      \t\t<div class="slider_item banner active1" id="banner1" data-href="http://www.coolpad.com/product/product_detail/93/" data-id="93" data-position="3" data-name="COOL1 Dual " data-priority="0">\n\t\t\t      \t\t<img u="image" class="element_11 " src="/static/images/swiperimages/phone_11.png" alt="">\n\t\t\t\t\t\t<img u="image" class="element_12 " src="/static/images/swiperimages/phone_12.png" alt="">\n\t\t\t\t\t\t<img u="image" class="element_13 " src="/static/images/swiperimages/phone_13.png" alt="">\n\t\t\t\t\t\t<img u="image" class="element_14 " src="/static/images/swiperimages/word_11.png" alt="">\n\t\t\t\t\t\t<img u="image" class="element_15 " src="/static/images/swiperimages/shadow.png" alt="">\n\t\t\t\t\t<div class="element_16" >\n\t\t\t\t\t\t<img class="element_17" src="/static/images/swiperimages/arrow.png" alt="">\n\t\t\t\t\t\t<img src="/static/images/swiperimages/button_1.png" alt="">\n\t\t\t\t\t</div>\n\t\t      \t\t</div>\n\t\t      </div> -->\n\t\t      <div class="swiper-slide sliders " style="background: #dbdbdb ;margin: 0;">\n\t\t      \t<div class="slider_item banner active3" data-href="http://www.coolpad.com/product/product_detail/97/" data-id="97" data-position="4" data-name="1C" data-priority="0">\n\t\t      \t\t<img u="image" class="element_31 " src="/static/images/swiperimages/bg.jpg" alt="">\n\t\t\t\t\t<img u="image" class="element_32 " src="/static/images/swiperimages/phone_31.png" alt="">\n\t\t\t\t\t<img u="image" class="element_33 " src="/static/images/swiperimages/phone_32.png" alt="">\n\t\t\t\t\t<img u="image" class="element_34 " src="/static/images/swiperimages/title.png" alt="">\n\t\t\t\t\t<img u="image" class="element_35 " src="/static/images/swiperimages/text.png" alt="">\n\t\t\t\t\t<div class="element_36">\n\t\t\t\t\t\t<img class="element_37" src="/static/images/swiperimages/arrow_3.png" alt="">\n\t\t\t\t\t\t<img src="/static/images/swiperimages/button.png" alt="">\n\t\t\t\t\t</div>\n\t\t      \t</div>\n\t\t      </div>\t\t\t\t\n\t\t  </div>\n\t\t  <div class="pagination">\n\t\t  \t{{#each obj.big_banners}}\n\t\t  \t<span class="swiper-pagination-switch"></span>\n\t\t\t{{/each}}\n\t\t\t<span class="swiper-pagination-switch"></span>\n\t\t\t<span class="swiper-pagination-switch"></span>\n\t\t\t<span class="swiper-pagination-switch"></span>\n\t\t  </div>\n\t\t</div>\n</div>\n{{/if}}\n<!--banner-small Begin-->\n<div class="banner_small">\n  <ul class="banner_small_container">\n    {{#each obj.small_banners}}\n    <li class="banner_small_item hover-state">\n      <a class="banner_small_link" href="{{ url }}" target="_blank" data-id="{{ id }}" data-position="{{ pos }}" data-name="{{ name }}" data-priority="{{ priority }}" data-image="{{ image }}">\n          <img alt="cool" data-original="{{ image }}" class="lazy">\n      </a>\n    </li>\n    {{/each}}\n  </ul>\n</div>\n<!--banner-small End-->\n<goods-items-card></goods-items-card>\n<!--video-->\n<div class="video_wrap">\n\t<div class="video_header">\n\t\t<span class="newicon">&#xE63A;</span>视频\n\t</div>\n\t<ul class="video_list clearfix J-vide-list">\n\t\t<li class="hover-state" data-link="http://cpmall-cdn.coolpad.com/video/1.mp4" data-title="不再等待，成为改变者">\n\t\t\t<p class="video_img">\n\t\t\t\t<img data-original="http://cpmall-cdn.coolpad.com/images/1_2x.jpg" src="" alt="" class="lazy">\n\t\t\t\t<span class="newicon">&#xE039;</span>\n\t\t\t</p>\n\t\t\t<p class="title">不再等待，成为改变者</p>\n\t\t\t<p class="subtitle">Cool Changer S1 改变从现在开始</p>\n\t\t</li>\n\t\t<li class="hover-state" data-link="http://cpmall-cdn.coolpad.com/video/2.mp4" data-title="酷派改变者S1上手测评">\n\t\t\t<p class="video_img">\n\t\t\t\t<img data-original="http://cpmall-cdn.coolpad.com/images/2_2x.jpg" src="" alt="" class="lazy">\n\t\t\t\t<span class="newicon">&#xE039;</span>\n\t\t\t</p>\n\t\t\t<p class="title">酷派改变者S1上手测评</p>\n\t\t\t<p class="subtitle">分析「游戏」和「音乐」的差异化亮点</p>\n\t\t</li>\n\t\t<li class="hover-state" data-link="flash" data-title="认真打造产品 提高用户体验">\n\t\t\t<p class="video_img">\n\t\t\t\t<img data-original="http://cpmall-cdn.coolpad.com/images/3_2x.jpg" src="" alt="" class="lazy">\n\t\t\t\t<span class="newicon">&#xE039;</span>\n\t\t\t</p>\n\t\t\t<p class="title">认真打造产品 提高用户体验</p>\n\t\t\t<p class="subtitle">CEO刘江峰明确公司战略方法</p>\n\t\t</li>\n\t\t<li class="last hover-state" data-link="http://cpmall-cdn.coolpad.com/video/4.mp4" data-title="开启全新改变之路">\n\t\t\t<p class="video_img">\n\t\t\t\t<img data-original="http://cpmall-cdn.coolpad.com/images/4_2x.jpg" src="" alt="" class="lazy">\n\t\t\t\t<span class="newicon">&#xE039;</span>\n\t\t\t</p>\n\t\t\t<p class="title">开启全新改变之路</p>\n\t\t\t<p class="subtitle">享听音乐，畅玩游戏</p>\n\t\t</li>\n\t</ul>\n</div>\n<article class="popboxsimple J-video-pop hiddenImportant video-pop">\n  <div class="popboxsimple_fade"></div>\n  <section class="popboxsimple_content">\n    <h3 class="popboxsimple_title J-title">视频</h3>\n    <span class="popboxsimple_close J-showVideo-cancel-btn newicon">&#xE5C9;</span>\n    <div class="popboxsimple_detail J-content">\n    </div>\n  </section>\n';
},146:function(t,e){},170:function(t,e,a){var i=a(79),n=a(80);t.exports=can.Component.extend({tag:"goods-items-card",template:can.stache(i),viewModel:{visible:!1,message:""},events:{click:function(){this.viewModel.attr("visible",!this.viewModel.attr("visible"))}}}),t.exports=can.Component.extend({tag:"common-goods-item",template:can.stache(n),viewModel:{visible:!1,message:""},events:{click:function(){this.viewModel.attr("visible",!this.viewModel.attr("visible"))}}})},214:function(t,e,a){a(146);var i=a(12),n=a(4);window.cpmall.data=a(5)("main");var o=window.cpmall.data,s=a(215),l={small_banners:o.small_banners,big_banners:o.big_banners,categories:[],isMobile:window.isMobile};if(window.isMobile){for(var r=0,c=l.big_banners.length;r<c;++r)l.big_banners[r].pos=r+1,l.big_banners[r].image=l.big_banners[r].image;for(var r=0,c=l.small_banners.length;r<c;++r)l.small_banners[r].pos=r+1,l.small_banners[r].image=l.small_banners[r].image}else{for(var d=[],r=0,c=l.big_banners.length;r<c;++r){var m=l.big_banners[r].image,p={};""!=m&&(p.image=l.big_banners[r].image+"!/quality/70",p.pos=r+1,p.id=l.big_banners[r].id,p.priority=l.big_banners[r].priority,p.size_big=l.big_banners[r].size_big,p.url=l.big_banners[r].url,d.push(p))}l.big_banners=d;for(var r=0,c=l.small_banners.length;r<c;++r)l.small_banners[r].pos=r+1,window.devicePixelRatio?(2==window.devicePixelRatio&&(l.small_banners[r].image=l.small_banners[r].image),1==window.devicePixelRatio&&(l.small_banners[r].image=l.small_banners[r].image+"!/fwfh/378x180")):l.small_banners[r].image=l.small_banners[r].image}for(var u=null,h=null,_=!1,g=!1,r=0,c=o.categories.length;r<c;++r){var b=[];u=o.categories[r],_=r,"热销手机"==u.name?u.icon=!0:"精选商品"==u.name&&(u.icon=!1);for(var f=0,v=u.items.length;f<v;++f){h=u.items[f];var w,y=h.image,x=h.tag,k="",C="";if(h.tag)if(x.length>0){if(1==x.length)if("zj"==x[0])w="small_activity_depreciate",C="直降";else if("mj"==x[0])w="small_activity_depreciate",C="满减";else if("mz"==x[0])w="small_activity_depreciate",C="买赠";else{w="small_activity_interest-free";var J=x[0].split("_");k=J[1]}else if(2==x.length){w="small_activity_interest-free";for(var j=0;j<2;j++)if("f"==x[j][0]){var J=x[j].split("_");k=J[1]}}}else w="";g=!!r&&0===f,g?window.isMobile?y=h.image:y+="!/fwfh/570x320":window.isMobile?y=h.image:y+="!/fwfh/180x180";var E={fix:!1,firstItemBigShow:g,product_url:h.product_url,name:h.name,subtitle:h.subtitle,image:y,price:"￥"+h.price,small_activity:w,content:k,content1:C};h.label&&(E.label=h.label),window.isMobile?_?f%2===1&&(E.fix=!0):f%2===0&&(E.fix=!0):_?f>4&&(f-2)%4===0&&(E.fix=!0):(f+1)%4===0&&(E.fix=!0),b.push(E)}l.categories.push({name:u.name,icon:u.icon,link_url:u.link_url,items:b}),b=[]}$(function(){if(n(),new s("#render",{isMobile:window.isMobile,data:l}),!window.isMobile){var t=$(".col-md-3");t.eq(2).removeClass("small-item2"),t.eq(3).addClass("small-item2"),$(".banner_small_item:last").addClass("banner_small_item--fix")}i("homepage")})},215:function(t,e,a){var i=window.can,n=a(100),o=(a(170),i.stache(n));t.exports=i.Control.extend({defaults:{}},{init:function(t,e){var a=(this.options.sliderOpts,o({obj:e.data}));t.html(a);new Swiper(".swiper-container",{autoplay:4e3,loop:!0,pagination:".pagination",paginationClickable:!0,autoplayDisableOnInteraction:!1});$(".lazy").lazyload({effect:"fadeIn"}),$(".slider_item").click(function(t){var e=$(this);e.attr("data-id")||(e=e.parent());var a={cp_add_time:new Date,name:e.attr("data-name")||" ",id:e.attr("data-id"),position:e.attr("data-position")};coolsa.bannerClick(a);var i=coolsa.getSiteMonitorAttrs(2,a);stm_clicki("send","event",i),stm_clicki("send","event","首页","点击广告","首页大广告",6),window.open(e.attr("data-href"))}),$(".banner_small_link").click(function(t){var e=$(t.target);e.attr("data-id")||(e=e.parent());var a={cp_add_time:new Date,name:e.attr("data-name")||" ",id:e.attr("data-id"),position:e.attr("data-position")};coolsa.bannerClick(a);var i=coolsa.getSiteMonitorAttrs(2,a);stm_clicki("send","event",i),stm_clicki("send","event","首页","点击广告","首页小广告",5)}),$(".J-vide-list li").on("click",function(){var t=$(this).attr("data-link"),e=$(this).attr("data-title");if($(".J-video-pop").removeClass("hiddenImportant"),"flash"==t)var a='<embed align="middle" allowfullscreen="true" allowscriptaccess="always" flashvars="uu=80146db3b5&amp;vu=9247f3d363&amp;auto_play=1&amp;gpcflag=1&amp;width=580&amp;height=400&amp;lang=zh_CN" height="360" quality="high" src="http://yuntv.letv.com/bcloud.swf" type="application/x-shockwave-flash" width="640">';else var a='<video src="'+t+'" controls="controls" autoplay class="J-video">您的浏览器不支持 video 标签。</video>';$(".J-title").text(e),$(".J-content").html(a)}),$(".J-showVideo-cancel-btn").on("click",function(){$(".J-video-pop").addClass("hiddenImportant"),$(".J-content").html("")})}})}});