(function(exports,global){var origDefine=global.define;var get=function(name){var parts=name.split("."),cur=global,i;for(i=0;i<parts.length;i++){if(!cur){break}cur=cur[parts[i]]}return cur};var modules=(global.define&&global.define.modules)||(global._define&&global._define.modules)||{};var ourDefine=global.define=function(moduleName,deps,callback){var module;if(typeof deps==="function"){callback=deps;deps=[]}var args=[],i;for(i=0;i<deps.length;i++){args.push(exports[deps[i]]?get(exports[deps[i]]):(modules[deps[i]]||get(deps[i])))}if(!deps.length&&callback.length){module={exports:{}};var require=function(name){return exports[name]?get(exports[name]):modules[name]};args.push(require,module.exports,module)}else{if(!args[0]&&deps[0]==="exports"){module={exports:{}};args[0]=module.exports;if(deps[1]==="module"){args[1]=module}}else{if(!args[0]&&deps[0]==="module"){args[0]={id:moduleName}}}}global.define=origDefine;var result=callback?callback.apply(null,args):undefined;global.define=ourDefine;modules[moduleName]=module&&module.exports?module.exports:result};global.define.orig=origDefine;global.define.modules=modules;global.define.amd=true;ourDefine("@loader",[],function(){var noop=function(){};return{get:function(){return{prepareGlobal:noop,retrieveGlobal:noop}},global:global,__exec:function(__load){eval("(function() { "+__load.source+" \n }).call(global);")}}})})({},window);define("can/view/target/target",["can/util/util","can/view/elements"],function(m,j,i){var a=function(q,t,p,o){var u=o.createDocumentFragment();for(var r=0,n=q.length;r<n;r++){var s=q[r];u.appendChild(g(s,t,p.concat(r),o))}return u},k=typeof document!=="undefined"&&function(){var n=document.createDocumentFragment();var p=document.createElement("div");p.appendChild(document.createTextNode(""));p.appendChild(document.createTextNode(""));n.appendChild(p);var o=n.cloneNode(true);return m.childNodes(o.firstChild).length===2}(),b=typeof document!=="undefined"&&function(){var n=document.createElement("a");n.innerHTML="<xyz></xyz>";var o=n.cloneNode(true);return o.innerHTML==="<xyz></xyz>"}(),e=typeof document!=="undefined"&&!!document.createElementNS,c=m.attr.setAttribute;var h=b?function(n){return n.cloneNode(true)}:function(o){var p;if(o.nodeType===1){p=document.createElement(o.nodeName)}else{if(o.nodeType===3){p=document.createTextNode(o.nodeValue)}else{if(o.nodeType===8){p=document.createComment(o.nodeValue)}else{if(o.nodeType===11){p=document.createDocumentFragment()}}}}if(o.attributes){var n=m.makeArray(o.attributes);m.each(n,function(q){if(q&&q.specified){c(p,q.nodeName,q.nodeValue)}})}if(o.childNodes){m.each(o.childNodes,function(q){p.appendChild(h(q))})}return p};function g(r,B,z,y){var A,w=z,t=typeof r,q,o,u,v;var s=function(){if(!A){A={path:z,callbacks:[]};B.push(A);w=[]}return A};var n=function(C,p){var D=r.attrs[p];if(typeof D==="function"){s().callbacks.push({callback:D})}else{c(C,p,D)}};if(t==="object"){if(r.tag){if(e&&r.namespace){q=y.createElementNS(r.namespace,r.tag)}else{q=y.createElement(r.tag)}if(r.attrs){if(r.tag==="input"&&r.attrs.type){n(q,"type");delete r.attrs.type}for(var x in r.attrs){n(q,x)}}if(r.attributes){for(u=0,v=r.attributes.length;u<v;u++){s().callbacks.push({callback:r.attributes[u]})}}if(r.children&&r.children.length){if(A){o=A.paths=[]}else{o=B}q.appendChild(a(r.children,o,w,y))}}else{if(r.comment){q=y.createComment(r.comment);if(r.callbacks){for(u=0,v=r.attributes.length;u<v;u++){s().callbacks.push({callback:r.callbacks[u]})}}}}}else{if(t==="string"){q=y.createTextNode(r)}else{if(t==="function"){if(k){q=y.createTextNode("");s().callbacks.push({callback:r})}else{q=y.createComment("~");s().callbacks.push({callback:function(){var p=y.createTextNode("");j.replace([this],p);return r.apply(p,arguments)}})}}}}return q}function f(o,t,r){var v=t.path,n=t.callbacks,w=t.paths,p=o,u=v?v.length:0,s=w?w.length:0;for(var q=0;q<u;q++){p=p.childNodes.item(v[q])}for(q=0;q<s;q++){f(p,w[q],r)}r.push({element:p,callbacks:n})}function l(p,q){var n=p.length,t,s,o;for(var r=0;r<n;r++){o=p[r];t=o.callbacks.length;s=o.element;for(var u=0;u<t;u++){o.callbacks[u].callback.apply(s,q)}}}function d(n,o){var p=[];var q=a(n,p,[],o||m.global.document);return{paths:p,clone:q,hydrate:function(){var u=h(this.clone);var s=m.makeArray(arguments);var r=[];for(var t=0;t<p.length;t++){f(u,p[t],r)}l(r,s);return u}}}d.keepsTextNodes=k;m.view.target=d;return d});define("can/view/stache/mustache_core",["can/util/util","can/view/stache/utils","can/view/stache/mustache_helpers","can/view/stache/expression","can/view/live/live","can/view/elements","can/view/scope/scope","can/view/node_lists/node_lists"],function(q,m,p,a,b,i,l,h){b=b||q.view.live;i=i||q.view.elements;l=l||q.view.Scope;h=h||q.view.nodeLists;var o=/(?:(?:^|(\r?)\n)(\s*)(\{\{([^\}]*)\}\}\}?)([^\S\n\r]*)($|\r?\n))|(\{\{([^\}]*)\}\}\}?)/g,n=function(s,v,r,u){var w=(q.document||q.global.document).createDocumentFragment();for(var t=0,k=s.length;t<k;t++){f(w,r.fn(v?s.attr(""+t):s[t],u))}return w},f=function(r,k){if(k){r.appendChild(typeof k==="string"?r.ownerDocument.createTextNode(k):k)}},j=function(t,w,s,v){var r="";for(var u=0,k=t.length;u<k;u++){r+=s.fn(w?t.attr(""+u):t[u],v)}return r},d=function(){};var c={expression:a,makeEvaluator:function(C,B,r,x,t,z,u,v){if(x==="^"){var A=z;z=u;u=A}var y,k;if(t instanceof a.Call){k={fn:function(){},inverse:function(){},context:C.attr("."),scope:C,nodeList:r,exprData:t,helpersScope:B};m.convertToScopes(k,C,B,r,z,u,v);y=t.value(C,B,k);if(t.isHelper){return y}}else{var s={isArgument:true,args:[C.attr("."),C],asCompute:true};var D=t.helperAndValue(C,B,s,r,z,u,v);var w=D.helper;y=D.value;if(w){return t.evaluator(w,C,B,s,r,z,u,v)}}if(!x){if(y&&y.isComputed){return y}else{return function(){return""+(y!=null?y:"")}}}else{if(x==="#"||x==="^"){k={fn:function(){},inverse:function(){}};m.convertToScopes(k,C,B,r,z,u,v);return function(){var F;if(q.isFunction(y)&&y.isComputed){F=y()}else{F=y}if(typeof F==="function"){return F}else{if(m.isArrayLike(F)){var E=m.isObserveLike(F);if(E?F.attr("length"):F.length){return(v?j:n)(F,E,k,B)}else{return k.inverse(C,B)}}else{return F?k.fn(F||C,B):k.inverse(C,B)}}}}else{}}},makeLiveBindingPartialRenderer:function(k,r){k=q.trim(k);return function(u,t,v){var s=[this];s.expression=">"+k;h.register(s,null,v||true,r.directlyNested);var w=q.compute(function(){var y=k;var B=t.attr("partials."+y),x;if(B){x=function(){return B.render?B.render(u,t,s):B(u,t)}}else{var A=u.read(y,{isArgument:true}).value;if(A===null||!A&&y[0]==="*"){return q.frag("")}if(A){y=A}x=function(){return q.isFunction(y)?y(u,t,s):q.view.render(y,u,t,s)}}var z=q.__notObserve(x)();return q.frag(z)});w.computeInstance.setPrimaryDepth(s.nesting);b.html(this,w,this.parentNode,s)}},makeStringBranchRenderer:function(u,k){var r=c.expression.parse(k),s=u+k;if(!(r instanceof a.Helper)&&!(r instanceof a.Call)){r=new a.Helper(r,[],{})}return function t(y,x,v,z){var A=y.__cache[s];if(u||!A){A=e(y,x,null,u,r,v,z,true);if(!u){y.__cache[s]=A}}var w=A();return w==null?"":""+w}},makeLiveBindingBranchRenderer:function(u,k,s){var r=c.expression.parse(k);if(!(r instanceof a.Helper)&&!(r instanceof a.Call)){r=new a.Helper(r,[],{})}return function t(E,z,y,C,w){var v=[this];v.expression=k;h.register(v,null,y||true,s.directlyNested);var x=e(E,z,v,u,r,C,w,s.tag);var D=x.isComputed,A;if(D){A=x}else{A=q.compute(x,null,false)}A.computeInstance.setPrimaryDepth(v.nesting);A.computeInstance.bind("change",d);var B=A();if(typeof B==="function"){q.__notObserve(B)(this)}else{if(D||A.computeInstance.hasDependencies){if(s.attr){b.simpleAttribute(this,s.attr,A)}else{if(s.tag){b.attributes(this,A)}else{if(s.text&&typeof B!=="object"){b.text(this,A,this.parentNode,v)}else{b.html(this,A,this.parentNode,v)}}}}else{if(s.attr){q.attr.set(this,s.attr,B)}else{if(s.tag){b.setAttributes(this,B)}else{if(s.text&&typeof B==="string"){this.nodeValue=B}else{if(B!=null){i.replace([this],q.frag(B,this.ownerDocument))}}}}}}A.computeInstance.unbind("change",d)}},splitModeFromExpression:function(s,k){s=q.trim(s);var r=s.charAt(0);if("#/{&^>!".indexOf(r)>=0){s=q.trim(s.substr(1))}else{r=null}if(r==="{"&&k.node){r=null}return{mode:r,expression:s}},cleanLineEndings:function(k){return k.replace(o,function(x,B,w,r,s,z,u,A,t,y){z=z||"";B=B||"";w=w||"";var v=g(s||t,{});if(A||">{".indexOf(v.mode)>=0){return x}else{if("^#!/".indexOf(v.mode)>=0){return r+(y!==0&&u.length?B+"\n":"")}else{return w+r+z+(w.length||y!==0?B+"\n":"")}}})},Options:m.Options};var e=c.makeEvaluator,g=c.splitModeFromExpression;q.view.mustacheCore=c;return c});define("can/view/stache/html_section",["can/util/util","can/view/target/target","can/view/stache/utils","can/view/stache/mustache_core"],function(e,g,a,d){var c=typeof document!=="undefined"&&function(){var h=document.createElement("div");return function(i){if(i.indexOf("&")===-1){return i.replace(/\r\n/g,"\n")}h.innerHTML=i;return h.childNodes.length===0?"":h.childNodes.item(0).nodeValue}}();var f=function(){this.stack=[new b()]};e.extend(f.prototype,a.mixins);e.extend(f.prototype,{startSubSection:function(i){var h=new b(i);this.stack.push(h);return h},endSubSectionAndReturnRenderer:function(){if(this.last().isEmpty()){this.stack.pop();return null}else{var h=this.endSection();return e.proxy(h.compiled.hydrate,h.compiled)}},startSection:function(i){var h=new b(i);this.last().add(h.targetCallback);this.stack.push(h)},endSection:function(){this.last().compile();return this.stack.pop()},inverse:function(){this.last().inverse()},compile:function(){var h=this.stack.pop().compile();return function(k,j,i){if(!(k instanceof e.view.Scope)){k=e.view.Scope.refsScope().add(k||{})}if(!(j instanceof d.Options)){j=new d.Options(j||{})}return h.hydrate(k,j,i)}},push:function(h){this.last().push(h)},pop:function(){return this.last().pop()}});var b=function(i){this.data="targetData";this.targetData=[];this.targetStack=[];var h=this;this.targetCallback=function(k,j,l){i.call(this,k,j,l,e.proxy(h.compiled.hydrate,h.compiled),h.inverseCompiled&&e.proxy(h.inverseCompiled.hydrate,h.inverseCompiled))}};e.extend(b.prototype,{inverse:function(){this.inverseData=[];this.data="inverseData"},push:function(h){this.add(h);this.targetStack.push(h)},pop:function(){return this.targetStack.pop()},add:function(h){if(typeof h==="string"){h=c(h)}if(this.targetStack.length){e.last(this.targetStack).children.push(h)}else{this[this.data].push(h)}},compile:function(){this.compiled=g(this.targetData,e.document||e.global.document);if(this.inverseData){this.inverseCompiled=g(this.inverseData,e.document||e.global.document);delete this.inverseData}this.targetStack=this.targetData=null;return this.compiled},children:function(){if(this.targetStack.length){return e.last(this.targetStack).children}else{return this[this.data]}},isEmpty:function(){return !this.targetData.length}});f.HTMLSection=b;return f});define("can/view/stache/live_attr",["can/util/util","can/view/live/live","can/view/elements","can/view/callbacks/callbacks"],function(d,c,a,b){c=c||d.view.live;a=a||d.view.elements;b=b||d.view.callbacks;return{attributes:function(i,j,h,e){var k={};var g=function(o){var n=c.getAttributeParts(o),m;for(m in n){var q=n[m],l=k[m];if(q!==l){d.attr.set(i,m,q);var p=b.attr(m);if(p){p(i,{attributeName:m,scope:h,options:e})}}delete k[m]}for(m in k){a.removeAttr(i,m)}k=n};var f=function(m,l){g(l)};j.bind("change",f);d.bind.call(i,"removed",function(){j.unbind("change",f)});g(j())}}});define("can/view/stache/text_section",["can/util/util","can/view/live/live","can/view/stache/utils","can/view/stache/live_attr"],function(f,e,a,c){e=e||f.view.live;var g=function(){this.stack=[new d()]};f.extend(g.prototype,a.mixins);f.extend(g.prototype,{startSection:function(i){var h=new d();this.last().add({process:i,truthy:h});this.stack.push(h)},endSection:function(){this.stack.pop()},inverse:function(){this.stack.pop();var h=new d();this.last().last().falsey=h;this.stack.push(h)},compile:function(i){var h=this.stack[0].compile();return function(k,j){var m=f.compute(function(){return h(k,j)},null,false);m.computeInstance.bind("change",f.k);var l=m();if(m.computeInstance.hasDependencies){if(i.textContentOnly){e.text(this,m)}else{if(i.attr){e.simpleAttribute(this,i.attr,m)}else{c.attributes(this,m,k,j)}}m.computeInstance.unbind("change",f.k)}else{if(i.textContentOnly){this.nodeValue=l}else{if(i.attr){f.attr.set(this,i.attr,l)}else{e.setAttributes(this,l)}}}}}});var b=function(j,h,i){return function(l,k){return j.call(this,l,k,h,i)}};var d=function(){this.values=[]};f.extend(d.prototype,{add:function(h){this.values.push(h)},last:function(){return this.values[this.values.length-1]},compile:function(){var k=this.values,h=k.length;for(var j=0;j<h;j++){var l=this.values[j];if(typeof l==="object"){k[j]=b(l.process,l.truthy&&l.truthy.compile(),l.falsey&&l.falsey.compile())}}return function(p,o){var m="",q;for(var n=0;n<h;n++){q=k[n];m+=typeof q==="string"?q:q.call(this,p,o)}return m}}});return g});define("can/view/import/import",["can/util/util","can/view/callbacks/callbacks"],function(a){a.view.tag("can-import",function(b,d){var n=a.$(b);var h=b.getAttribute("from");var g=d.options.attr("helpers.module");var f=g?g.id:undefined;var c;if(h){c=a["import"](h,f)}else{c=a.Deferred().reject("No moduleName provided").promise()}var i=d.scope.attr("%root");if(i&&a.isFunction(i.waitFor)){i.waitFor(c)}a.data(n,"viewModel",c);a.data(n,"scope",c);var m=d.scope.add(c);var l=b.getAttribute("can-tag");if(l){var j=a.view.tag(l);a.data(n,"preventDataBindings",true);j(b,a.extend(d,{scope:m}));a.data(n,"preventDataBindings",false);a.data(n,"viewModel",c);a.data(n,"scope",c)}else{var k=d.subtemplate?d.subtemplate(m,d.options):document.createDocumentFragment();var e=a.view.nodeLists.register([],undefined,true);a.one.call(b,"removed",function(){a.view.nodeLists.unregister(e)});a.appendChild(b,k,a.document);a.view.nodeLists.update(e,a.childNodes(b))}})});define("can/view/stache/intermediate_and_imports",["can/view/stache/mustache_core","can/view/parser/parser","can/view/import/import"],function(a,b){return function(h){var k=a.cleanLineEndings(h);var c=[],i=[],f={},l=false,m=false,n=false,d=false,j="",g="";var e=b(k,{start:function(p,o){d=o;if(p==="can-import"){l=true}else{if(l){l=false}}},attrStart:function(o){if(o==="from"){m=true}else{if(o==="as"||o==="export-as"){n=true}}},attrEnd:function(o){if(o==="from"){m=false}else{if(o==="as"||o==="export-as"){n=false}}},attrValue:function(o){if(m&&l){c.push(o);if(!d){i.push(o)}g=o}else{if(n&&l){j=o}}},end:function(o){if(o==="can-import"){if(j){f[j]=g;j=""}}},close:function(o){if(o==="can-import"){c.pop()}}},true);return{intermediate:e,imports:c,dynamicImports:i,ases:f,exports:f}}});define("can/view/stache/stache",["can/util/util","can/view/parser/parser","can/view/target/target","can/view/stache/html_section","can/view/stache/text_section","can/view/stache/mustache_core","can/view/stache/mustache_helpers","can/view/stache/intermediate_and_imports","can/view/callbacks/callbacks","can/view/bindings/bindings"],function(o,h,c,m,a,f,n,i,d){h=h||o.view.parser;o.view.parser=h;d=d||o.view.callbacks;var k="http://www.w3.org/2000/svg";var b={svg:k,g:k},j={style:true,script:true};function l(q){if(typeof q==="string"){q=f.cleanLineEndings(q)}var u=new m(),s={node:null,attr:null,sectionElementStack:[],text:false,namespaceStack:[],textContentOnly:null},t=function(x,y,v){if(y===">"){x.add(f.makeLiveBindingPartialRenderer(v,p()))}else{if(y==="/"){x.endSection();if(x instanceof m){s.sectionElementStack.pop()}}else{if(y==="else"){x.inverse()}else{var w=x instanceof m?f.makeLiveBindingBranchRenderer:f.makeStringBranchRenderer;if(y==="{"||y==="&"){x.add(w(null,v,p()))}else{if(y==="#"||y==="^"){x.startSection(w(y,v,p()));if(x instanceof m){s.sectionElementStack.push("section")}}else{x.add(w(null,v,p({text:true})))}}}}}},p=function(v){var x=s.sectionElementStack[s.sectionElementStack.length-1];var w={tag:s.node&&s.node.tag,attr:s.attr&&s.attr.name,directlyNested:s.sectionElementStack.length?x==="section"||x==="custom":true,textContentOnly:!!s.textContentOnly};return v?o.simpleExtend(w,v):w},r=function(v,w){if(!v.attributes){v.attributes=[]}v.attributes.unshift(w)};h(q,{start:function(x,w){var v=b[x];if(v&&!w){s.namespaceStack.push(v)}s.node={tag:x,children:[],namespace:v||o.last(s.namespaceStack)}},end:function(w,v){var x=d.tag(w);if(v){u.add(s.node);if(x){r(s.node,function(z,y,A){d.tagHandler(this,w,{scope:z,options:y,subtemplate:null,templateType:"stache",parentNodeList:A})})}}else{u.push(s.node);s.sectionElementStack.push(x?"custom":w);if(x){u.startSubSection()}else{if(j[w]){s.textContentOnly=new a()}}}s.node=null},close:function(x){var w=b[x];if(w){s.namespaceStack.pop()}var y=d.tag(x),v;if(y){v=u.endSubSectionAndReturnRenderer()}if(j[x]){u.last().add(s.textContentOnly.compile(p()));s.textContentOnly=null}var z=u.pop();if(y){r(z,function(B,A,C){d.tagHandler(this,x,{scope:B,options:A,subtemplate:v,templateType:"stache",parentNodeList:C})})}s.sectionElementStack.pop()},attrStart:function(v){if(s.node.section){s.node.section.add(v+'="')}else{s.attr={name:v,value:""}}},attrEnd:function(w){if(s.node.section){s.node.section.add('" ')}else{if(!s.node.attrs){s.node.attrs={}}s.node.attrs[s.attr.name]=s.attr.section?s.attr.section.compile(p()):s.attr.value;var v=d.attr(w);if(v){if(!s.node.attributes){s.node.attributes=[]}s.node.attributes.push(function(z,y,x){v(this,{attributeName:w,scope:z,options:y,nodeList:x})})}s.attr=null}},attrValue:function(v){var w=s.node.section||s.attr.section;if(w){w.add(v)}else{s.attr.value+=v}},chars:function(v){(s.textContentOnly||u).add(v)},special:function(z){var v=f.splitModeFromExpression(z,s),y=v.mode,x=v.expression;if(x==="else"){var w;if(s.attr&&s.attr.section){w=s.attr.section}else{if(s.node&&s.node.section){w=s.node.section}else{w=s.textContentOnly||u}}w.inverse();return}if(y==="!"){return}if(s.node&&s.node.section){t(s.node.section,y,x);if(s.node.section.subSectionDepth()===0){s.node.attributes.push(s.node.section.compile(p()));delete s.node.section}}else{if(s.attr){if(!s.attr.section){s.attr.section=new a();if(s.attr.value){s.attr.section.add(s.attr.value)}}t(s.attr.section,y,x)}else{if(s.node){if(!s.node.attributes){s.node.attributes=[]}if(!y){s.node.attributes.push(f.makeLiveBindingBranchRenderer(null,x,p()))}else{if(y==="#"||y==="^"){if(!s.node.section){s.node.section=new a()}t(s.node.section,y,x)}else{throw new Error(y+" is currently not supported within a tag.")}}}else{t(s.textContentOnly||u,y,x)}}}},comment:function(v){u.add({comment:v})},done:function(){}});return u.compile()}var e={"\n":"\\n","\r":"\\r","\u2028":"\\u2028","\u2029":"\\u2029"};var g=function(p){return(""+p).replace(/["'\\\n\r\u2028\u2029]/g,function(q){if("'\"\\".indexOf(q)>=0){return"\\"+q}else{return e[q]}})};o.view.register({suffix:"stache",contentType:"x-stache-template",fragRenderer:function(q,p){return l(p)},script:function(q,p){return'can.stache("'+g(p)+'")'}});o.view.ext=".stache";o.extend(o.stache,n);o.extend(l,n);o.stache.safeString=l.safeString=function(p){return{toString:function(){return p}}};o.stache.async=function(q){var p=i(q);var r=o.map(p.imports,function(s){return o["import"](s)});return o.when.apply(o,r).then(function(){return l(p.intermediate)})};return l});(function(){window._define=window.define;window.define=window.define.orig})();